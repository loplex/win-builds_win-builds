= Installation For Use With MSYS or Cygwin =

This tutorial will guide you through a typical installation of Win-builds with
MSYS or Cygwin. Most of it has been contributed by Vincent Torri.

== Installation of a POSIX-like environment ==

=== Cygwin Installation ===
1. Download either link:http://cygwin.com/setup-x86.exe[setup-x86.exe]
link:http://cygwin.com/setup-x86_64.exe[setup-x86_64.exe] (setup-x86.exe will
work fine on both 32b and 64b systems).

2. Run the installer. In the examples below, Cygwin is supposed to have been
installed in 'C:/Cygwin'.

3. When prompted for the list of packages to install, chose at least one of
'mingw-w64-i686-gcc-g\+\+' or 'mingw-w64-x86_64-gcc-g\+\+' which are located in
the 'Devel' category; also install 'pkg-config' which is in the same category.
You are of course free to install more packages to satisfy the needs of your
projects.

4. Proceed until the end of the installation (downloading takes some time).

=== MSYS Installation ===
1. Download
link:http://sourceforge.net/projects/mingw/files/Installer/mingw-get-setup.exe/download[mingw-get-setup.exe]
and run it.

2. Click on "Install".

3. Click on "Change" to chose another installation directory, go to C:/ and
make a new directory named "win_builds and validate". You are free to install
anywhere else but remember to keep the various paths consistent.

4. Click on "Continue".

5. Once the progress reaches 100%, click on "Next".

6. In the new window, select "All packages" and then "MSYS Base System".

7. On the right of the window, right-click on "msys-base" and select "Mark for
installation".

8. Now click on "Installation" in the menu bar at the top of the window and
then "Apply Changes".

9. In the new window, click on "Apply". Once everything is installed, use the
"Close" button and exit the installer.

10. Go to 'C:/win_builds/msys/1.0/' , right-click on 'msys.bat', hover over
'Send To' and chose 'Desktop (create shortcut)'.

== Win-builds Installation ==

1. Run either MSYS or Cygwin according to what you have installed.

2. Download link:yypkg-@@VERSION@@.exe[] and run it from the command-line as:
* for MSYS: 'yypkg-@@VERSION@@.exe --deploy --host msys'
* for Cygwin: 'yypkg-@@VERSION@@.exe --deploy --host cygwin'

3. Check gcc is running well:
+
------------------------------------------------------------------------
# First, switch to the 32-bit toolchain (see next section for details):
. /opt/windows_32/bin/win-builds-switch 32
gcc --version
# Then, switch to the 64-bit toolchain: (see next section for details)
. /opt/windows_64/bin/win-builds-switch 64
gcc --version
------------------------------------------------------------------------

4. Set a default toolchain (optional):
+
------------------------------------------------------------------------
echo '. /opt/windows_32/bin/win-builds-switch 32' >> ~/.profile
------------------------------------------------------------------------

== Change toolchain on-the-fly ==

The 'win-builds-switch' script takes care of everything; run it in your
shell like:

------------------------------------------------------------------------
# To switch to the i686 toolchain
. /opt/windows_32/bin/win-builds-switch 32
# To switch to the x86_64 toolchain
. /opt/windows_64/bin/win-builds-switch 64
------------------------------------------------------------------------
